exports.id=81,exports.ids=[81],exports.modules={11782:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(60687),n=s(82136);function o({children:e}){return(0,r.jsx)(n.SessionProvider,{children:e})}},14939:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Toby\\\\TodoList\\\\TodoList-App\\\\src\\\\app\\\\todolist\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\todolist\\page.tsx","default")},15976:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Toby\\\\TodoList\\\\TodoList-App\\\\src\\\\app\\\\provider\\\\provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\provider\\provider.tsx","default")},16539:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var r=s(60687),n=s(43210),o=s(39091),i=s(8693);function a({children:e}){let[t]=(0,n.useState)(()=>new o.E);return(0,r.jsx)(i.Ht,{client:t,children:e})}},28349:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},34820:(e,t,s)=>{Promise.resolve().then(s.bind(s,30032)),Promise.resolve().then(s.bind(s,23870)),Promise.resolve().then(s.bind(s,29530)),Promise.resolve().then(s.bind(s,15976)),Promise.resolve().then(s.bind(s,91213))},44865:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,metadata:()=>u});var r=s(37413),n=s(61120),o=s(29530),i=s(23870),a=s(30032);let l=({children:e})=>(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:(0,r.jsx)(i.default,{children:(0,r.jsx)(a.default,{color:"inherit",size:80})})}),children:e});var d=s(91213),c=s(15976);s(61135);let u={title:"Todo Dashboard",description:"Next.js Todo FrontEnd App DashBoard, build with App Router."};async function h({children:e}){return(0,r.jsx)("html",{children:(0,r.jsx)("body",{children:(0,r.jsx)(c.default,{children:(0,r.jsxs)(d.default,{children:[(0,r.jsx)(l,{children:e}),(0,r.jsx)(o.ReactQueryDevtools,{initialIsOpen:!1})]})})})})}},61135:()=>{},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(31658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71620:(e,t,s)=>{Promise.resolve().then(s.bind(s,66803)),Promise.resolve().then(s.bind(s,25685)),Promise.resolve().then(s.bind(s,9124)),Promise.resolve().then(s.bind(s,11782)),Promise.resolve().then(s.bind(s,16539))},84381:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},91213:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Toby\\\\TodoList\\\\TodoList-App\\\\src\\\\app\\\\utils\\\\QueryClientWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\utils\\QueryClientWrapper.tsx","default")},91618:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var r=s(60687),n=s(8693),o=s(51423),i=s(31212),a=s(54050),l=s(43210),d=s(16189),c=s(30474),u=s(82136),h=s(56818),m=s(43323),x=s(39060),p=s(49205),j=s(80986),f=s(27463),g=s(86862),b=s(82681),v=s(84060),y=s(35330),S=s(72318),A=s(58534),C=s(83706);let P="http://localhost:3000/api/todolist";async function w({kw:e="",status:t="",order:s="asc",sortField:r="status",currentPage:n=1,pageSize:o=10}={}){let i=new URLSearchParams;e&&i.append("kw",e),t&&i.append("status",t),s&&i.append("order",s),r&&i.append("sortField",r),i.append("page",String(n)),i.append("limit",String(o));let a=await fetch(`${P}/?${i.toString()}`);if(!a.ok)throw Error("Failed to fetch");return a.json()}async function N({todo:e}){return(await fetch(P,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({todo:e})})).json()}async function F({id:e}){return(await fetch(`${P}/${e}`,{method:"DELETE"})).json()}async function T({id:e,completed:t,todo:s}){return(console.log("yeahhhhh"),s)?(await fetch(`${P}/${e}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({todo:s})})).json():(await fetch(`${P}/${e}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({completed:t})})).json()}async function D({idArray:e}){return(await fetch(`${P}`,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})).json()}function k({input:e,setInput:t,onAdd:s}){return(0,r.jsxs)("div",{className:"flex items-center gap-1 ml-3 h-20",children:[(0,r.jsxs)("form",{action:"",children:[(0,r.jsx)("label",{className:"font-sans mb-3",children:"Add todo"}),(0,r.jsx)("input",{className:"text-black rounded-lg border border-gray-500 focus:ring-2 focus:ring-indigo-500 px-4 py-2 w-75 outline-none transition mb-8 h-12",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter New Todo"})]}),(0,r.jsx)("button",{className:"text-black px-4 py-2 rounded-lg font-semibold shadow-black hover:bg-amber-600 transition bg-amber-200 w-20 ml-3 mr-3 h-12 mb-2.5",onClick:s,children:"Add"})]})}function L({searchInput:e,setSearchInput:t,handleSearch:s}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex items-center gap-2 h-18",children:(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s(t,e)},children:[(0,r.jsx)("label",{className:"ml-3 font-sans",children:"Search"}),(0,r.jsx)("input",{className:"text-black rounded-lg border border-gray-500 focus:ring-2 focus:ring-indigo-400 px-4 py-2 w-76 outline-none transition ml-3 mb-6.5 h-12",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter Keyword"})]})})})}function E({completedCount:e,unCompletedCount:t}){return(0,r.jsxs)("div",{className:"text-black flex justify-center text-3xl font-bold gap-3",children:[(0,r.jsxs)("div",{children:["Total: ",e+t]})," | ",(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-green-500",children:[" Done: ",e," "]})}),"| ",(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-red-500",children:["Pending: ",t]})})]})}var $=s(74037),U=s(52260),I=s(93189),R=s(83459);function z({selectedOrder:e,searchParams:t,router:s}){return(0,r.jsx)("div",{className:"h-8",children:(0,r.jsxs)($.A,{sx:{m:.5,minWidth:90},children:[(0,r.jsx)(U.A,{id:"demo-label",children:"Created Date"}),(0,r.jsxs)(R.A,{labelId:"demo-label",id:"demo",value:e,onChange:e=>{let r=new URLSearchParams(t.toString());r.set("sortField","createdDate"),r.set("order",e.target.value??""),r.set("page","1"),s.push(`?${r.toString()}`)},autoWidth:!0,label:"Created Date",children:[(0,r.jsx)(I.A,{value:"asc",children:"Asc"}),(0,r.jsx)(I.A,{value:"desc",children:"Desc"})]})]})})}function O({SelectedPageSize:e,onChangePageSize:t}){return(0,r.jsx)("div",{children:(0,r.jsxs)($.A,{sx:{m:.5,minWidth:70},children:[(0,r.jsx)(U.A,{id:"demo label",children:"Page Size"}),(0,r.jsxs)(R.A,{labelId:"demo-label",id:"demo",value:e,onChange:e=>{t(Number(e.target.value))},autoWidth:!0,label:"Page Size",children:[(0,r.jsx)(I.A,{value:4,children:"4"}),(0,r.jsx)(I.A,{value:8,children:"8"}),(0,r.jsx)(I.A,{value:12,children:"12"})]})]})})}function Q({selectStatus:e,searchParams:t,router:s}){return(0,r.jsx)("div",{children:(0,r.jsxs)($.A,{sx:{m:.5,minWidth:90},children:[(0,r.jsx)(U.A,{id:"demo-label",children:"Status"}),(0,r.jsxs)(R.A,{labelId:"demo-label",id:"demo",value:e,onChange:e=>{console.log(e.target.value);let r=new URLSearchParams(t.toString());r.set("status",e.target.value??""),r.set("page","1"),s.push(`?${r.toString()}`)},autoWidth:!0,label:"Status",children:[(0,r.jsx)(I.A,{value:"",children:"All"}),(0,r.jsx)(I.A,{value:"true",children:"Done"}),(0,r.jsx)(I.A,{value:"false",children:"Pending"})]})]})})}var W=s(24886);function K({currentPage:e,total:t,pageSize:s,router:n,searchParams:o}){let i=Math.ceil(t/s);return console.log(e,t,s),(0,r.jsx)("div",{className:"flex justify-center my-6",children:(0,r.jsx)(W.A,{count:i,page:e,onChange:(e,t)=>{let s=new URLSearchParams(o.toString());s.set("page",String(t)),n.push(`?${s.toString()}`)}})})}function q(){let{data:e,status:t}=(0,u.useSession)(),s=(0,d.useRouter)(),P=(0,d.useSearchParams)(),$=(0,n.jE)();console.log(e);let[U,I]=(0,l.useState)(8),R=P.get("kw")||"",W=P.get("status")||"",q=Number(P.get("page"))||1,J=P.get("order")||"asc",H=P.get("sortField")||"status",M=Number(P.get("limit"))||U,[B,X]=(0,l.useState)(R),[V,Y]=(0,l.useState)(""),[G,Z]=(0,l.useState)(null),[_,ee]=(0,l.useState)(""),[et,es]=(0,l.useState)([]),[er,en]=(0,l.useState)([]),eo=e=>{let t=et.map((t,s)=>s===e?!t:t);es(t);let s=eh[e].id,r=[...er];t[e]?r.push(s):r=r.filter(e=>e!==s),en(r)},{data:ei,isLoading:ea}=(0,o.I)({queryKey:["todos",R,W,J,H,q,M],queryFn:async()=>{let e=await w({kw:R,status:W,order:J,sortField:H,currentPage:q,pageSize:M});return console.log("QueryFn result:",e),e},staleTime:3e4,gcTime:3e5,placeholderData:i.rX}),el=(0,a.n)({mutationFn:N,onSuccess:()=>{$.invalidateQueries({queryKey:["todos",R,W,J,H,q,M]})}}),ed=(0,a.n)({mutationFn:F,onSuccess:()=>{$.invalidateQueries({queryKey:["todos",R,W,J,H,q,M]})}}),ec=(0,a.n)({mutationFn:D,onSuccess:()=>{$.invalidateQueries({queryKey:["todos",R,W,J,H,q,M]}),es(Array(eh.length).fill(!1)),en([])}}),eu=(0,a.n)({mutationFn:({id:e,completed:t,todo:s})=>T({id:e,completed:t,todo:s}),onSuccess:()=>{$.invalidateQueries({queryKey:["todos",R,W,J,H,q,M]}),Z(null),ee("")}}),eh=Array.isArray(ei?.todos)?ei.todos.map(e=>({...e,createdDate:e.createdDate})):[];return(0,r.jsxs)("div",{className:"text-2x1 text-white bg-gradient-to-r from-amber-100 to-amber-300 h-full grid-cols-subgrid border-2 min-h-screen",children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{className:"text-black hover:scale-150 text-3xl",onClick:()=>(0,u.signOut)({redirect:!1,callbackUrl:"/"}),children:(0,r.jsx)(C.A,{fontSize:"large"})})}),(0,r.jsxs)("div",{className:"basis-128 text-center mb-4 text-5xl bg-gradient-to-r from-amber-100 to-amber-300 text-[#050505] font-extrabold flex justify-center mt-5",children:[(0,r.jsx)(c.default,{src:"/todo.svg",alt:"todo",width:40,height:40}),(0,r.jsx)("p",{className:"ml-2",children:"YourTODO"})]}),(0,r.jsxs)("div",{className:"flex justify-items-center-safe ml-100 gap-4 mb-6 p-4 shadow w-280 text-black h-25 rounded-xl bg-[#eff1a0]",children:[(0,r.jsx)("div",{className:"w-100 bg-[#FEFFDF] flex-1/3 rounded-xl",children:(0,r.jsx)(k,{input:V,setInput:Y,onAdd:()=>{V.trim()&&(el.mutate({todo:V}),Y(""))}})}),(0,r.jsx)("div",{className:"flex-1/3 bg-[#FEFFDF] rounded-xl flex justify-center",children:(0,r.jsx)(L,{searchInput:B,setSearchInput:X,handleSearch:(e,t)=>{e.preventDefault();let r=new URLSearchParams(P.toString());r.set("kw",t),r.set("page","1"),s.push(`?${r.toString()}`),X("")}})}),(0,r.jsx)("div",{className:"flex flex-1/3 justify-center bg-[#FEFFDF] rounded-xl",children:(0,r.jsxs)("div",{className:"flex flex-row mt-0.5",children:[(0,r.jsx)(Q,{selectStatus:W,searchParams:P,router:s}),(0,r.jsx)(z,{selectedOrder:J,searchParams:P,router:s}),(0,r.jsx)(O,{SelectedPageSize:U,onChangePageSize:e=>{let t=new URLSearchParams(P.toString());t.set("limit",String(e)),t.set("page","1"),s.push(`?${t.toString()}`),I(e)}})]})})]}),(0,r.jsx)("div",{children:ei&&(0,r.jsx)(E,{completedCount:ei.completedCount||0,unCompletedCount:ei.unCompletedCount||0})}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(A.A,{children:(0,r.jsx)(v.A,{variant:"outlined",color:"primary",startIcon:(0,r.jsx)(A.A,{badgeContent:et.filter(Boolean).length,color:"error",children:(0,r.jsx)(m.A,{})}),onClick:()=>{ec.mutate({idArray:er}),console.log(er)},className:"flex justify-items-end",disabled:0===er.length,children:"Delete Selected Todo"})})})}),ea?(0,r.jsx)("div",{className:"text-center",children:"Loading..."}):0===eh.length?(0,r.jsx)("div",{className:"text-center",children:"No result"}):(0,r.jsx)("div",{className:"ml-20 mt-10",children:(0,r.jsx)(p.A,{container:!0,spacing:4,sx:{justifyContent:"space-between"},columns:{xs:4,sm:8,md:12},children:eh.map((e,t)=>(0,r.jsx)(p.A,{size:3,justifyContent:"space-between",children:(0,r.jsxs)(j.A,{sx:{width:350,backgroundColor:"#FEFFDF",border:1,boxShadow:10},children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)(S.A,{size:"small",color:"success",checked:!!et[t],onChange:()=>eo(t)})}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:"text-2xl mr-2",children:e.createdDate?new Date(e.createdDate).toLocaleDateString("vi-VN"):""})]}),(0,r.jsxs)(g.A,{children:[(0,r.jsx)(f.A,{align:"center",variant:"h5",children:G===e.id?(0,r.jsx)("input",{value:_,onChange:e=>ee(e.target.value),type:"text",onKeyDown:t=>{"Enter"===t.key&&eu.mutate({id:e.id,todo:_})}}):(0,r.jsxs)("div",{children:[e.todo,(0,r.jsx)("button",{className:"ml-1",onClick:()=>{Z(e.id),ee(e.todo)},children:(0,r.jsx)(y.A,{color:"action"})})]})}),(0,r.jsx)(f.A,{variant:"h6",align:"center",children:e.completed?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.SE8,{className:"text-green-600 inline"})," Done"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.X,{className:"text-red-600 inline"})," Pending"]})}),(0,r.jsx)(f.A,{})]}),(0,r.jsxs)(b.A,{sx:{backgroundColor:"#fafafa",justifyContent:"space-around"},children:[(0,r.jsxs)(v.A,{disabled:e.completed,onClick:()=>{eu.mutate({id:e.id,completed:!e.completed})},children:[(0,r.jsx)(x.A,{}),"Mark Done"]}),(0,r.jsxs)(v.A,{color:"error",onClick:()=>ed.mutate({id:e.id}),children:[(0,r.jsx)(m.A,{}),"Delete"]})]})]})},e.id))})}),ei&&(0,r.jsx)(K,{currentPage:q,total:ei.total,pageSize:M,router:s,searchParams:P})]})}}};