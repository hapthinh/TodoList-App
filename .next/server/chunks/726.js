exports.id=726,exports.ids=[726],exports.modules={11782:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(60687),s=r(82136);function i({children:e}){return(0,n.jsx)(s.SessionProvider,{children:e})}},14939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Toby\\\\TodoList\\\\TodoList-App\\\\src\\\\app\\\\todolist\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\todolist\\page.tsx","default")},15976:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Toby\\\\TodoList\\\\TodoList-App\\\\src\\\\app\\\\provider\\\\provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\provider\\provider.tsx","default")},16539:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(60687),s=r(43210),i=r(39091),o=r(8693);function a({children:e}){let[t]=(0,s.useState)(()=>new i.E);return(0,n.jsx)(o.Ht,{client:t,children:e})}},28349:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},44865:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>h});var n=r(37413),s=r(61120),i=r(29530),o=r(23870),a=r(30032);let l=({children:e})=>(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:(0,n.jsx)(o.default,{children:(0,n.jsx)(a.default,{color:"inherit",size:80})})}),children:e});var d=r(91213),c=r(15976);r(61135);var u=r(57751);let h={title:"Todo Dashboard",description:"Next.js Todo FrontEnd App DashBoard, build with App Router."};async function x({children:e}){return(0,n.jsx)("html",{children:(0,n.jsx)("body",{children:(0,n.jsx)(c.default,{children:(0,n.jsxs)(d.default,{children:[(0,n.jsx)(l,{children:(0,n.jsx)(u.MuiThemeProvider,{children:e})}),(0,n.jsx)(i.ReactQueryDevtools,{initialIsOpen:!1})]})})})})}},55060:(e,t,r)=>{"use strict";r.d(t,{MuiThemeProvider:()=>o});var n=r(60687),s=r(73806);let i=(0,r(51052).A)({palette:{primary:{main:"#FEFFDF"},secondary:{main:"#13B3D7"}}});function o({children:e}){return(0,n.jsx)(s.A,{theme:i,children:e})}r(43210)},56133:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ep});var n=r(60687),s=r(51423),i=r(31212),o=r(43210),a=r(16189),l=r(30474),d=r(82136),c=r(49205);let u="http://localhost:3000/api/todolist";async function h({kw:e="",status:t="",order:r="asc",sortField:n="status",currentPage:s=1,pageSize:i=10}={}){let o=new URLSearchParams;e&&o.append("kw",e),t&&o.append("status",t),r&&o.append("order",r),n&&o.append("sortField",n),o.append("page",String(s)),o.append("limit",String(i));let a=await fetch(`${u}/?${o.toString()}`);if(!a.ok)throw Error("Failed to fetch");return a.json()}async function x({todo:e}){return(await fetch(u,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({todo:e})})).json()}async function m({id:e}){return(await fetch(`${u}/${e}`,{method:"DELETE"})).json()}async function p({id:e,completed:t,todo:r}){let n={};void 0!==t&&(n.completed=t),void 0!==r&&(n.todo=r);let s=fetch(`${u}/${e}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});return(await s).json()}async function j({idArray:e}){return(await fetch(`${u}`,{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify(e)})).json()}function f({input:e,setInput:t,onAdd:r}){return(0,n.jsxs)("div",{className:"flex items-center gap-1 ml-3 h-20",children:[(0,n.jsxs)("form",{action:"",children:[(0,n.jsx)("label",{className:"font-sans mb-3",children:"Add todo"}),(0,n.jsx)("input",{className:"text-black rounded-lg border border-gray-500 focus:ring-2 focus:ring-indigo-500 px-4 py-2 w-75 outline-none transition mb-8 h-12",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter New Todo"})]}),(0,n.jsx)("button",{className:"text-black px-4 py-2 rounded-lg font-semibold shadow-black hover:bg-amber-600 transition bg-amber-200 w-20 ml-3 mr-3 h-12 mb-2.5",onClick:r,children:"Add"})]})}function v({searchInput:e,setSearchInput:t,handleSearch:r}){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center gap-2 h-18",children:(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault(),r(t,e)},children:[(0,n.jsx)("label",{className:"ml-3 font-sans",children:"Search"}),(0,n.jsx)("input",{className:"text-black rounded-lg border border-gray-500 focus:ring-2 focus:ring-indigo-400 px-4 py-2 w-76 outline-none transition ml-3 mb-6.5 h-12",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter Keyword"})]})})})}function g({completedCount:e,unCompletedCount:t}){return(0,n.jsxs)("div",{className:"text-black flex justify-center text-3xl font-bold gap-3",children:[(0,n.jsxs)("div",{children:["Total: ",e+t]})," | ",(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"text-green-500",children:[" Done: ",e," "]})}),"| ",(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"text-red-500",children:["Pending: ",t]})})]})}var b=r(23789),y=r(52260),A=r(14752),S=r(25446);function C({selectedOrder:e,searchParams:t,router:r}){return(0,n.jsx)("div",{className:"h-8",children:(0,n.jsxs)(b.A,{sx:{m:.5,minWidth:90},children:[(0,n.jsx)(y.A,{id:"demo-label",children:"Created Date"}),(0,n.jsxs)(S.A,{labelId:"demo-label",id:"demo",value:e,onChange:e=>{let n=new URLSearchParams(t.toString());n.set("sortField","createdDate"),n.set("order",e.target.value??""),n.set("page","1"),r.push(`?${n.toString()}`)},autoWidth:!0,label:"Created Date",children:[(0,n.jsx)(A.A,{value:"asc",children:"Asc"}),(0,n.jsx)(A.A,{value:"desc",children:"Desc"})]})]})})}function w({SelectedPageSize:e,onChangePageSize:t}){return(0,n.jsx)("div",{children:(0,n.jsxs)(b.A,{sx:{m:.5,minWidth:70},children:[(0,n.jsx)(y.A,{id:"demo label",children:"Page Size"}),(0,n.jsxs)(S.A,{labelId:"demo-label",id:"demo",value:e,onChange:e=>{t(Number(e.target.value))},autoWidth:!0,label:"Page Size",children:[(0,n.jsx)(A.A,{value:4,children:"4"}),(0,n.jsx)(A.A,{value:8,children:"8"}),(0,n.jsx)(A.A,{value:12,children:"12"})]})]})})}function P({selectStatus:e,searchParams:t,router:r}){return(0,n.jsx)("div",{children:(0,n.jsxs)(b.A,{sx:{m:.5,minWidth:90},children:[(0,n.jsx)(y.A,{id:"demo-label",children:"Status"}),(0,n.jsxs)(S.A,{labelId:"demo-label",id:"demo",value:e,onChange:e=>{console.log(e.target.value);let n=new URLSearchParams(t.toString());n.set("status",e.target.value??""),n.set("page","1"),r.push(`?${n.toString()}`)},autoWidth:!0,label:"Status",children:[(0,n.jsx)(A.A,{value:"",children:"All"}),(0,n.jsx)(A.A,{value:"true",children:"Done"}),(0,n.jsx)(A.A,{value:"false",children:"Pending"})]})]})})}var N=r(24886);function T({currentPage:e,total:t,pageSize:r,router:s,searchParams:i}){let o=Math.ceil(t/r);return(0,n.jsx)("div",{className:"flex justify-center my-6",children:(0,n.jsx)(N.A,{count:o,page:e,onChange:(e,t)=>{let r=new URLSearchParams(i.toString());r.set("page",String(t)),s.push(`?${r.toString()}`)}})})}var k=r(8693),F=r(54050),D=r(80986),E=r(72318),L=r(86862),I=r(87088),U=r(56818),z=r(82681),$=r(35330),M=r(43323),R=r(16184),O=r(39060);function W({todo:e,idx:t,checked:r,editId:s,editTodo:i,setEditId:o,setEditTodo:a,onCheck:l,onDelete:d,onUpdate:u}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{size:2.5,justifyContent:"space-between",children:(0,n.jsxs)(D.A,{sx:{width:350,backgroundColor:"#FEFFDF",border:1,boxShadow:10},children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:(0,n.jsx)(E.A,{size:"small",color:"success",checked:!!r,onChange:()=>l(t)})}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:"text-2xl mr-2",children:e.createdDate?new Date(e.createdDate).toLocaleDateString("vi-VN"):""})]}),(0,n.jsxs)(L.A,{children:[(0,n.jsx)(I.A,{align:"center",variant:"h5",children:s===e.id?(0,n.jsx)("input",{value:i,onChange:e=>a(e.target.value),type:"text",onKeyDown:t=>{"Enter"===t.key&&u({id:e.id,todo:i})}}):(0,n.jsxs)("div",{children:[e.todo,(0,n.jsx)("button",{className:"ml-1",onClick:()=>{o(e.id),a(e.todo)},children:(0,n.jsx)($.A,{color:"action"})})]})}),(0,n.jsx)(I.A,{variant:"h6",align:"center",children:e.completed?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U.SE8,{className:"text-green-600 inline"})," Done"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U.X,{className:"text-red-600 inline"})," Pending"]})}),(0,n.jsx)(I.A,{})]}),(0,n.jsxs)(z.A,{sx:{backgroundColor:"#fafafa",justifyContent:"space-around"},children:[(0,n.jsxs)(R.A,{disabled:e.completed,onClick:()=>{u({id:e.id,completed:!e.completed})},color:"secondary",children:[(0,n.jsx)(O.A,{}),"Mark Done"]}),(0,n.jsxs)(R.A,{color:"error",onClick:()=>d({id:e.id}),children:[(0,n.jsx)(M.A,{}),"Delete"]})]})]})},e.id),";"]})}var Q=r(58534);function B({selectedId:e,onCount:t,onDelete:r}){return(0,n.jsx)(Q.A,{children:(0,n.jsx)(R.A,{variant:"outlined",color:"secondary",startIcon:(0,n.jsx)(Q.A,{badgeContent:t,color:"error",children:(0,n.jsx)(M.A,{})}),onClick:()=>{r({idArray:e})},className:"flex justify-items-end",disabled:0===e.length,children:"Delete Selected Todo"})})}var H=r(24955),X=r(88931),J=r(66932),K=r(83685),q=r(73855),G=r(6519);let V=e=>(0,n.jsx)(X.A,{sx:{flexGrow:1},children:(0,n.jsx)(H.A,{children:(0,n.jsxs)(J.A,{children:[(0,n.jsx)(K.A,{size:"large",edge:"start","aria-label":"menu",sx:{mr:2},onClick:e.handleMenu,children:e.open?(0,n.jsx)(q.A,{}):(0,n.jsx)(G.A,{})}),(0,n.jsx)(I.A,{variant:"h6",sx:{flexGrow:1},children:"DashBoard"})]})})});var Y=r(17181),Z=r(64216),_=r(45525),ee=r(53006),et=r(31267),er=r(83706);function en(){return(0,n.jsx)("button",{className:"text-black hover:scale-150 text-3xl",onClick:()=>(0,d.signOut)({redirect:!1,callbackUrl:"/"}),children:(0,n.jsx)(er.A,{fontSize:"large"})})}var es=r(93010);function ei({open:e}){return(0,n.jsx)(_.A,{children:["Home","Sign Out"].map((t,r)=>(0,n.jsx)(Y.Ay,{disablePadding:!0,children:(0,n.jsxs)(Z.A,{sx:[{minHeight:8},e?{justifyContent:"initial"}:{justifyContent:"center"}],children:[(0,n.jsx)(ee.A,{children:r%2==0?(0,n.jsx)(et.A,{}):(0,n.jsx)(en,{})}),(0,n.jsx)(es.A,{primary:t,sx:[e?{opacity:1}:{opacity:0}],onClick:()=>(0,d.signOut)({redirect:!0,callbackUrl:"/"})})]})},t))})}var eo=r(13555),ea=r(82948);let el={position:"fixed",top:"7dvh",backgroundColor:"rgb(255 255 255 / 95%)"},ed={position:"relative",top:0,backgroundColor:"#FEFFDF"},ec=e=>({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",...el,[e.breakpoints.up("lg")]:{...ed}}),eu=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${e.spacing(7)} + 1px)`,...el,[e.breakpoints.up("sm")]:{width:`calc(${e.spacing(8)} + 1px)`},[e.breakpoints.up("lg")]:{...ed}}),eh=(0,eo.Ay)(ea.Ay,{shouldForwardProp:e=>"open"!==e})(({theme:e})=>({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...el,zIndex:1,variants:[{props:({open:e})=>e,style:{...ec(e),"& .MuiDrawer-paper":ec(e)}},{props:({open:e})=>!e,style:{...eu(e),"& .MuiDrawer-paper":eu(e)}}]}));var ex=r(32288);function em(e){let{open:t}=e;return(0,n.jsxs)(X.A,{display:"flex",position:"relative",sx:{mt:8},color:"Background",children:[(0,n.jsx)(ex.Ay,{}),(0,n.jsx)(eh,{variant:"permanent",open:t,color:"primary",children:(0,n.jsx)(ei,{open:!0})})]})}function ep(){let{data:e,status:t}=(0,d.useSession)(),r=(0,a.useRouter)(),u=(0,a.useSearchParams)();console.log(e);let[b,y]=(0,o.useState)(8),A=u.get("kw")||"",S=u.get("status")||"",N=Number(u.get("page"))||1,D=u.get("order")||"asc",E=u.get("sortField")||"status",L=Number(u.get("limit"))||b,[I,U]=(0,o.useState)(A),[z,$]=(0,o.useState)(""),[M,R]=(0,o.useState)(null),[O,Q]=(0,o.useState)(""),[H,X]=(0,o.useState)([]),[J,K]=(0,o.useState)([]),[q,G]=(0,o.useState)(!1),Y=e=>{let t=H.map((t,r)=>r===e?!t:t);X(t);let r=et[e].id,n=[...J];t[e]?n.push(r):n=n.filter(e=>e!==r),K(n)},{data:Z,isLoading:_}=(0,s.I)({queryKey:["todos",A,S,D,E,N,L],queryFn:async()=>await h({kw:A,status:S,order:D,sortField:E,currentPage:N,pageSize:L}),staleTime:3e4,gcTime:3e5,placeholderData:i.rX}),ee=["todos",A,S,D,E,N,L],et=Array.isArray(Z?.todos)?Z.todos.map(e=>({...e,createdDate:e.createdDate})):[],er=function(e){let t=(0,k.jE)();return(0,F.n)({mutationFn:x,onSuccess:()=>{t.invalidateQueries({queryKey:e})}})}(ee),en=function(e){let t=(0,k.jE)();return(0,F.n)({mutationFn:m,onSuccess:()=>{t.invalidateQueries({queryKey:e})}})}(ee),es=function(e,t,r){let n=(0,k.jE)();return(0,F.n)({mutationFn:p,onSuccess:()=>{n.invalidateQueries({queryKey:e}),t(null),r("")}})}(ee,R,Q),ei=function(e,t,r,n){let s=(0,k.jE)();return(0,F.n)({mutationFn:j,onSuccess:()=>{s.invalidateQueries({queryKey:e}),t(Array(n).fill(!1)),r([])}})}(ee,X,K,et.length);return(0,n.jsxs)("div",{className:"text-2x1 text-white bg-gradient-to-r from-amber-100 to-amber-300 h-full grid-cols-subgrid border-2 min-h-screen flex",children:[(0,n.jsx)(V,{handleMenu:()=>{G(!q)},open:q}),(0,n.jsx)(em,{open:q}),(0,n.jsxs)("div",{className:"mt-13",children:[(0,n.jsxs)("div",{className:"basis-128 text-center mb-4 text-5xl bg-gradient-to-r from-amber-100 to-amber-300 text-[#050505] font-extrabold flex justify-center mt-5",children:[(0,n.jsx)(l.default,{src:"/todo.svg",alt:"todo",width:40,height:40}),(0,n.jsx)("p",{className:"ml-2",children:"YourTODO"})]}),(0,n.jsxs)("div",{className:"flex justify-items-center-safe ml-100 gap-4 mb-6 p-4 shadow w-280 text-black h-25 rounded-xl bg-[#eff1a0]",children:[(0,n.jsx)("div",{className:"w-100 bg-[#FEFFDF] flex-1/3 rounded-xl",children:(0,n.jsx)(f,{input:z,setInput:$,onAdd:()=>{z.trim()&&(er.mutate({todo:z}),$(""))}})}),(0,n.jsx)("div",{className:"flex-1/3 bg-[#FEFFDF] rounded-xl flex justify-center",children:(0,n.jsx)(v,{searchInput:I,setSearchInput:U,handleSearch:(e,t)=>{e.preventDefault();let n=new URLSearchParams(u.toString());n.set("kw",t),n.set("page","1"),r.push(`?${n.toString()}`),U("")}})}),(0,n.jsx)("div",{className:"flex flex-1/3 justify-center bg-[#FEFFDF] rounded-xl",children:(0,n.jsxs)("div",{className:"flex flex-row mt-0.5",children:[(0,n.jsx)(P,{selectStatus:S,searchParams:u,router:r}),(0,n.jsx)(C,{selectedOrder:D,searchParams:u,router:r}),(0,n.jsx)(w,{SelectedPageSize:b,onChangePageSize:e=>{let t=new URLSearchParams(u.toString());t.set("limit",String(e)),t.set("page","1"),r.push(`?${t.toString()}`),y(e)}})]})})]}),(0,n.jsx)("div",{children:Z&&(0,n.jsx)(g,{completedCount:Z.completedCount||0,unCompletedCount:Z.unCompletedCount||0})}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("div",{children:(0,n.jsx)(B,{selectedId:J,onCount:H.filter(Boolean).length,onDelete:ei.mutate})})}),_?(0,n.jsx)("div",{className:"text-center",children:"Loading..."}):0===et.length?(0,n.jsx)("div",{className:"text-center",children:"No result"}):(0,n.jsx)("div",{className:"ml-20 mt-10",children:(0,n.jsx)(c.A,{container:!0,spacing:4,sx:{justifyContent:"space-between"},columns:{xs:4,sm:8,md:12},children:et.map((e,t)=>(0,n.jsx)(W,{todo:e,idx:t,checked:!!H[t],editId:M,editTodo:O,setEditId:R,setEditTodo:Q,onCheck:Y,onUpdate:es.mutate,onDelete:en.mutate},e.id))})}),Z&&(0,n.jsx)(T,{currentPage:N,total:Z.total,pageSize:L,router:r,searchParams:u})]})]})}},57751:(e,t,r)=>{"use strict";r.d(t,{MuiThemeProvider:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call MuiThemeProvider() from the server but MuiThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\utils\\ThemeWrapper.tsx","MuiThemeProvider")},61135:()=>{},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},76153:(e,t,r)=>{Promise.resolve().then(r.bind(r,30032)),Promise.resolve().then(r.bind(r,23870)),Promise.resolve().then(r.bind(r,29530)),Promise.resolve().then(r.bind(r,15976)),Promise.resolve().then(r.bind(r,91213)),Promise.resolve().then(r.bind(r,57751))},84381:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},89305:(e,t,r)=>{Promise.resolve().then(r.bind(r,66803)),Promise.resolve().then(r.bind(r,25685)),Promise.resolve().then(r.bind(r,9124)),Promise.resolve().then(r.bind(r,11782)),Promise.resolve().then(r.bind(r,16539)),Promise.resolve().then(r.bind(r,55060))},91213:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Toby\\\\TodoList\\\\TodoList-App\\\\src\\\\app\\\\utils\\\\QueryClientWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Toby\\TodoList\\TodoList-App\\src\\app\\utils\\QueryClientWrapper.tsx","default")}};