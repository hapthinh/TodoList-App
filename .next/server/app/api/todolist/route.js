(()=>{var e={};e.id=470,e.ids=[470],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},7032:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>j,routeModule:()=>w,serverHooks:()=>m,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{DELETE:()=>g,GET:()=>l,POST:()=>c});var o=r(6559),a=r(8088),i=r(7719),n=r(2190),p=r(9021),u=r(3873);let d=r.n(u)().join(process.cwd()+"/src/app/json/todolist.json");async function l(e){let{searchParams:t}=new URL(e.url),r=t.get("kw")||"",s=t.get("status")||"",o=parseInt(t.get("page")||"1",10),a=parseInt(t.get("limit")||"10",10),i=t.get("order")||"",u=t.get("sortField")||"todo",l=[...JSON.parse(await p.promises.readFile(d,"utf-8")).todos];r&&(l=l.filter(e=>String(e.todo).toLowerCase().includes(r.toLowerCase()))),s&&(l=l.filter(e=>String(e.status)===s)),"todo"===u?l.sort((e,t)=>"asc"===i?e.todo.localeCompare(t.todo):t.todo.localeCompare(e.todo)):"createdDate"===u&&l.sort((e,t)=>{let r=new Date(e.createdDate).getTime(),s=new Date(t.createdDate).getTime();return"asc"===i?r-s:s-r});let c=l.length,g=(o-1)*a,w=l.slice(g,g+a);return n.NextResponse.json({todos:w,total:c,page:o,limit:a})}async function c(e){let t=await p.promises.readFile(d,"utf-8"),r=await e.json(),s=JSON.parse(t),o={...r,status:!1,createdDate:new Date().toISOString()};return s.todos.push(o),await p.promises.writeFile(d,JSON.stringify(s,null,2),"utf-8"),n.NextResponse.json(o)}async function g(e){let t=await p.promises.readFile(d,"utf-8"),r=await e.json(),s=JSON.parse(t),o=r.id;return s.todos=s.todos.filter(e=>e.id!==o),await p.promises.writeFile(d,JSON.stringify(s,null,2),"utf-8"),n.NextResponse.json({success:!0})}let w=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/todolist/route",pathname:"/api/todolist",filename:"route",bundlePath:"app/api/todolist/route"},resolvedPagePath:"E:\\frontendApp\\frontendApp\\src\\app\\api\\todolist\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:f,serverHooks:m}=w;function j(){return(0,i.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:f})}},8335:()=>{},9021:e=>{"use strict";e.exports=require("fs")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(7032));module.exports=s})();