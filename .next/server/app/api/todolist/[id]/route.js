(()=>{var e={};e.id=452,e.ids=[452],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4955:(e,s,t)=>{"use strict";t.r(s),t.d(s,{patchFetch:()=>w,routeModule:()=>f,serverHooks:()=>j,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var r={};t.r(r),t.d(r,{DELETE:()=>c,GET:()=>x,PATCH:()=>l});var o=t(6559),i=t(8088),n=t(7719),p=t(2190),a=t(9021),u=t(3873);let d=t.n(u)().join(process.cwd()+"/src/app/json/todolist.json");async function c(e){let s=new URL(e.url).pathname.split("/").pop(),t=JSON.parse(await a.promises.readFile(d,"utf-8"));if(!s)return p.NextResponse.json({success:!1,error:"Missing id"});t.todos=t.todos.filter(e=>Number(e.id)!==Number(s));try{await a.promises.writeFile(d,JSON.stringify(t,null,2),"utf-8")}catch(e){return console.error("Lỗi ghi file:",e),p.NextResponse.json({success:!1,error:"Lỗi ghi file"})}return p.NextResponse.json({success:!0})}async function l(e){let s=new URL(e.url).pathname.split("/").pop(),{todo:t,status:r}=await e.json(),o=JSON.parse(await a.promises.readFile(d,"utf-8")),i=o.todos.findIndex(e=>String(e.id)===String(s));return -1===i?p.NextResponse.json({success:!1}):(void 0!==t&&(o.todos[i].todo=t),void 0!==r&&(o.todos[i].status=r),await a.promises.writeFile(d,JSON.stringify(o,null,2),"utf-8"),p.NextResponse.json({data:o.todos[i],success:!0}))}async function x(e){let s=new URL(e.url).pathname.split("/").pop(),t=JSON.parse(await a.promises.readFile(d,"utf-8"));if(!s)return p.NextResponse.json({success:!1,error:"Missing id"});let r=t.todos.find(e=>String(e.id)===String(s));return r?p.NextResponse.json(r):p.NextResponse.json({success:!1,error:"Not found"})}let f=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/todolist/[id]/route",pathname:"/api/todolist/[id]",filename:"route",bundlePath:"app/api/todolist/[id]/route"},resolvedPagePath:"E:\\frontendApp\\frontendApp\\src\\app\\api\\todolist\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:j}=f;function w(){return(0,n.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}},6487:()=>{},8335:()=>{},9021:e=>{"use strict";e.exports=require("fs")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,580],()=>t(4955));module.exports=r})();