{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/components/pagination.tsx"],"sourcesContent":["import Pagination from \"@mui/material/Pagination\";\r\n\r\nexport default function MuiPagination({\r\n  currentPage,\r\n  total,\r\n  pageSize,\r\n  router,\r\n  searchParams,\r\n}) {\r\n  const totalPage = Math.ceil(total / pageSize);\r\n  console.log(currentPage, total, pageSize)\r\n  const handleChange = (event, value) => {\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    params.set(\"page\", String(value));\r\n    router.push(`?${params.toString()}`);\r\n  };\r\n  return (\r\n    <div className=\"flex justify-center my-6\">\r\n      <Pagination\r\n        count={totalPage}\r\n        page={currentPage}\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS,cAAc,EACpC,WAAW,EACX,KAAK,EACL,QAAQ,EACR,MAAM,EACN,YAAY,EACb;IACC,MAAM,YAAY,KAAK,IAAI,CAAC,QAAQ;IACpC,QAAQ,GAAG,CAAC,aAAa,OAAO;IAChC,MAAM,eAAe,CAAC,OAAO;QAC3B,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,QAAQ,OAAO;QAC1B,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI;IACrC;IACA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,uKAAA,CAAA,UAAU;YACT,OAAO;YACP,MAAM;YACN,UAAU;;;;;;;;;;;AAIlB;KAvBwB","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/services/api.ts"],"sourcesContent":["//file API TODOLIST {GET, POST, DELETE, PATCH} CRUD\r\n\r\n// Domain API\r\nconst API = \"http://localhost:3001/api/todolist\";\r\n\r\n// API GET TODO\r\nexport async function getTodos({\r\n  kw = \"\",\r\n  status = \"\",\r\n  order = \"asc\",\r\n  sortField = \"status\",\r\n  currentPage = 1,\r\n  pageSize = 10,\r\n} = {}) {\r\n  const params = new URLSearchParams();\r\n\r\n  if (kw) {\r\n    params.append(\"kw\", kw);\r\n  }\r\n  if (status) {\r\n    params.append(\"status\", status);\r\n  }\r\n  if (order) params.append(\"order\", order);\r\n  if (sortField) params.append(\"sortField\", sortField);\r\n\r\n  params.append(\"page\", String(currentPage));\r\n  params.append(\"limit\", String(pageSize));\r\n\r\n  const res = await fetch(`${API}/?${params.toString()}`);\r\n\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed to fetch\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n\r\n// API POST TODO\r\nexport async function postTodo({ todo }: { todo: string }) {\r\n  const res = await fetch(API, {\r\n    method: \"POST\",\r\n    headers: { \"Content-type\": \"application/json\" },\r\n    body: JSON.stringify({\r\n      todo: todo,\r\n    }),\r\n  });\r\n\r\n  return res.json();\r\n}\r\n\r\n// API DELETE TODO\r\nexport async function deteleTodo({ id }: { id: number }) {\r\n  const res = await fetch(`${API}/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n\r\n  return res.json();\r\n}\r\n\r\n// API UPDATE TODO\r\nexport async function updateTodoStatus({\r\n  id,\r\n  completed,\r\n  todo,\r\n}: {\r\n  id: number;\r\n  completed?: boolean;\r\n  todo?: string;\r\n}) {\r\n  const body: any = {};\r\n\r\n  if (typeof completed !== \"undefined\") body.completed = completed;\r\n  if (typeof todo !== \"undefined\") body.todo = todo;\r\n\r\n  const res = await fetch(`${API}/${id}`, {\r\n    method: \"PATCH\",\r\n    headers: { \"Content-type\": \"application/json\" },\r\n    body: JSON.stringify(body),\r\n  });\r\n\r\n  return res.json();\r\n}\r\n\r\nexport async function deleteMultiTodo({idArray}: {idArray: any[]}) {\r\n  const res = await fetch(`${API}`, {\r\n    method: \"DELETE\",\r\n    headers: {\"Content-type\": \"application/json\"},\r\n    body: JSON.stringify(idArray)\r\n  });\r\n  \r\n  return res.json();\r\n}\r\n\r\nexport async function getTodobyId(id:number) {\r\n  const res = await fetch(`${API}/${id}`, {\r\n    method: 'GET',\r\n  })\r\n  console.log(res.json())\r\n  return res.json()\r\n}"],"names":[],"mappings":"AAAA,mDAAmD;AAEnD,aAAa;;;;;;;;;AACb,MAAM,MAAM;AAGL,eAAe,SAAS,EAC7B,KAAK,EAAE,EACP,SAAS,EAAE,EACX,QAAQ,KAAK,EACb,YAAY,QAAQ,EACpB,cAAc,CAAC,EACf,WAAW,EAAE,EACd,GAAG,CAAC,CAAC;IACJ,MAAM,SAAS,IAAI;IAEnB,IAAI,IAAI;QACN,OAAO,MAAM,CAAC,MAAM;IACtB;IACA,IAAI,QAAQ;QACV,OAAO,MAAM,CAAC,UAAU;IAC1B;IACA,IAAI,OAAO,OAAO,MAAM,CAAC,SAAS;IAClC,IAAI,WAAW,OAAO,MAAM,CAAC,aAAa;IAE1C,OAAO,MAAM,CAAC,QAAQ,OAAO;IAC7B,OAAO,MAAM,CAAC,SAAS,OAAO;IAE9B,MAAM,MAAM,MAAM,MAAM,GAAG,IAAI,EAAE,EAAE,OAAO,QAAQ,IAAI;IAEtD,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,SAAS,EAAE,IAAI,EAAoB;IACvD,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YACnB,MAAM;QACR;IACF;IAEA,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,WAAW,EAAE,EAAE,EAAkB;IACrD,MAAM,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,IAAI,EAAE;QACtC,QAAQ;IACV;IAEA,OAAO,IAAI,IAAI;AACjB;AAGO,eAAe,iBAAiB,EACrC,EAAE,EACF,SAAS,EACT,IAAI,EAKL;IACC,MAAM,OAAY,CAAC;IAEnB,IAAI,OAAO,cAAc,aAAa,KAAK,SAAS,GAAG;IACvD,IAAI,OAAO,SAAS,aAAa,KAAK,IAAI,GAAG;IAE7C,MAAM,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,IAAI,EAAE;QACtC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,gBAAgB,EAAC,OAAO,EAAmB;IAC/D,MAAM,MAAM,MAAM,MAAM,GAAG,KAAK,EAAE;QAChC,QAAQ;QACR,SAAS;YAAC,gBAAgB;QAAkB;QAC5C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YAAY,EAAS;IACzC,MAAM,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,IAAI,EAAE;QACtC,QAAQ;IACV;IACA,QAAQ,GAAG,CAAC,IAAI,IAAI;IACpB,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/components/addTodo.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nexport default function AddTodo({ input, setInput, onAdd }) {\r\n  return (\r\n    <div className=\"flex items-center gap-2 ml-2\">\r\n      <input\r\n        className=\"text-black rounded-lg border border-gray-500 focus:ring-2 focus:ring-indigo-500 px-4 py-2 w-80 outline-none transition\"\r\n        type=\"text\"\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n        placeholder=\"Enter New Todo\"\r\n      />\r\n      <button\r\n        className=\"text-black px-4 py-2 rounded-lg font-semibold shadow-black hover:bg-amber-600 transition bg-amber-200 w-20 ml-3\"\r\n        onClick={onAdd}\r\n      >\r\n        Add\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEe,SAAS,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;IACxD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAU;gBACV,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;;;;;;0BAEd,6LAAC;gBACC,WAAU;gBACV,SAAS;0BACV;;;;;;;;;;;;AAKP;KAlBwB","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/components/selectBox.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select, {SelectChangeEvent} from '@mui/material/Select';\r\n\r\nexport default function SelectAutoWidth({\r\n    selectStatus,\r\n    searchParams,\r\n    router\r\n}) {\r\n    const handleChange = (event: SelectChangeEvent) => {\r\n        console.log(event.target.value)\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        params.set(\"status\", event.target.value ?? \"\");\r\n        params.set(\"page\",\"1\");\r\n        router.push(`?${params.toString()}`)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <FormControl sx={{ m: 1, minWidth:90}}>\r\n                <InputLabel id=\"demo-label\">Status</InputLabel>\r\n                <Select \r\n                labelId='demo-label'\r\n                id = 'demo'\r\n                value={selectStatus}\r\n                onChange={handleChange}\r\n                autoWidth\r\n                label=\"Status\"\r\n                >\r\n                    <MenuItem value = \"\">All\r\n                    </MenuItem>\r\n                    <MenuItem value=\"true\">Done</MenuItem>\r\n                    <MenuItem value=\"false\">Pending</MenuItem>\r\n                </Select>\r\n            </FormControl>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,gBAAgB,EACpC,YAAY,EACZ,YAAY,EACZ,MAAM,EACT;IACG,MAAM,eAAe,CAAC;QAClB,QAAQ,GAAG,CAAC,MAAM,MAAM,CAAC,KAAK;QAC9B,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,UAAU,MAAM,MAAM,CAAC,KAAK,IAAI;QAC3C,OAAO,GAAG,CAAC,QAAO;QAClB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI;IACvC;IAEA,qBACI,6LAAC;kBACG,cAAA,6LAAC,yKAAA,CAAA,UAAW;YAAC,IAAI;gBAAE,GAAG;gBAAG,UAAS;YAAE;;8BAChC,6LAAC,uKAAA,CAAA,UAAU;oBAAC,IAAG;8BAAa;;;;;;8BAC5B,6LAAC,+JAAA,CAAA,UAAM;oBACP,SAAQ;oBACR,IAAK;oBACL,OAAO;oBACP,UAAU;oBACV,SAAS;oBACT,OAAM;;sCAEF,6LAAC,mKAAA,CAAA,UAAQ;4BAAC,OAAQ;sCAAG;;;;;;sCAErB,6LAAC,mKAAA,CAAA,UAAQ;4BAAC,OAAM;sCAAO;;;;;;sCACvB,6LAAC,mKAAA,CAAA,UAAQ;4BAAC,OAAM;sCAAQ;;;;;;;;;;;;;;;;;;;;;;;AAK5C;KAjCwB","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/components/filterTodo.tsx"],"sourcesContent":["import SelectAutoWidth from \"./selectBox\";\r\n\r\nexport default function FilterTodo({\r\n  searchInput,\r\n  setSearchInput,\r\n  handleSearch,\r\n  selectStatus,\r\n  searchParams,\r\n  router,\r\n}) {\r\n  return (\r\n    <>\r\n      <div className=\"flex items-center gap-2\">\r\n        <input\r\n          className=\"text-black rounded-lg border border-gray-500 focus:ring-2 focus:ring-indigo-400 px-4 py-2 w-73 outline-none transition\"\r\n          type=\"text\"\r\n          value={searchInput}\r\n          onChange={(e) => setSearchInput(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") handleSearch(searchInput);\r\n          }}\r\n          placeholder=\"Enter keyword\"\r\n        />\r\n      </div>\r\n      <div className=\"flex items-center gap-2\">\r\n        <SelectAutoWidth selectStatus={selectStatus} searchParams={searchParams} router={router}/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS,WAAW,EACjC,WAAW,EACX,cAAc,EACd,YAAY,EACZ,YAAY,EACZ,YAAY,EACZ,MAAM,EACP;IACC,qBACE;;0BACE,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oBAC9C,WAAW,CAAC;wBACV,IAAI,EAAE,GAAG,KAAK,SAAS,aAAa;oBACtC;oBACA,aAAY;;;;;;;;;;;0BAGhB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,yIAAA,CAAA,UAAe;oBAAC,cAAc;oBAAc,cAAc;oBAAc,QAAQ;;;;;;;;;;;;;AAIzF;KA3BwB","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/components/statisticTodo.tsx"],"sourcesContent":["export default function Statistic({ completedCount, unCompletedCount }) {\r\n  const totalRecord = completedCount + unCompletedCount\r\n  return (\r\n    <div className=\"text-black flex justify-center text-3xl font-bold gap-3\">\r\n      <div>\r\n      Total: {totalRecord}</div> | <div><p className=\"text-green-500\"> Done: {completedCount} </p></div>| <div><p className=\"text-red-500\">Pending: {unCompletedCount}</p></div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAe,SAAS,UAAU,EAAE,cAAc,EAAE,gBAAgB,EAAE;IACpE,MAAM,cAAc,iBAAiB;IACrC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;oBAAI;oBACG;;;;;;;YAAkB;0BAAG,6LAAC;0BAAI,cAAA,6LAAC;oBAAE,WAAU;;wBAAiB;wBAAQ;wBAAe;;;;;;;;;;;;YAAW;0BAAE,6LAAC;0BAAI,cAAA,6LAAC;oBAAE,WAAU;;wBAAe;wBAAU;;;;;;;;;;;;;;;;;;AAGrJ;KARwB","debugId":null}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Toby/TodoList/TodoList-App/src/app/todolist/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  keepPreviousData,\r\n  useMutation,\r\n  useQuery,\r\n  useQueryClient,\r\n} from \"@tanstack/react-query\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport { CheckSquare, X } from \"@deemlol/next-icons\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport DoneIcon from \"@mui/icons-material/Done\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Card from \"@mui/material/Card\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport CardActions from \"@mui/material/CardActions\";\r\nimport Button from \"@mui/material/Button\";\r\nimport MuiPagination from \"app/components/pagination\";\r\nimport EditOutlinedTwoToneIcon from \"@mui/icons-material/EditOutlined\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport Badge from \"@mui/material/Badge\";\r\nimport { signOut, useSession } from \"next-auth/react\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport Image from \"next/image\";\r\n\r\nimport {\r\n  postTodo,\r\n  deteleTodo,\r\n  updateTodoStatus,\r\n  getTodos,\r\n  deleteMultiTodo,\r\n} from \"../services/api\";\r\nimport { Todo } from \"app/types/type\";\r\nimport AddTodo from \"app/components/addTodo\";\r\nimport FilterTodo from \"app/components/filterTodo\";\r\nimport Statistic from \"app/components/statisticTodo\";\r\nimport SortOrder from \"app/components/sortOrder\";\r\nimport SelectedPageSize from \"app/components/selectedPageSize\";\r\n\r\n// type todo response\r\ninterface TodoResponse {\r\n  todos: Todo[];\r\n  total: number;\r\n  page: number;\r\n  limit: number;\r\n  completedCount: number;\r\n  unCompletedCount: number;\r\n}\r\n\r\nexport default function TodoPage() {\r\n  const { data: session } = useSession();\r\n  const userId = session?.user.id;\r\n\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n\r\n  const [pageSize, setPageSize] = useState(8)\r\n\r\n\r\n  // get params\r\n  const inputSearch = searchParams.get(\"kw\") || \"\";\r\n  const selectStatus = searchParams.get(\"status\") || \"\";\r\n  const currentPage = Number(searchParams.get(\"page\")) || 1;\r\n  const sortOrder = (searchParams.get(\"order\") as \"asc\" | \"desc\") || \"asc\";\r\n  const sortField =\r\n    (searchParams.get(\"sortField\") as \"todo\" | \"createdDate\" | \"status\") ||\r\n    \"status\";\r\n  const limit = Number(searchParams.get(\"limit\")) || pageSize;\r\n\r\n  // set state\r\n  const [searchInput, setSearchInput] = useState(inputSearch);\r\n  const [input, setInput] = useState(\"\");\r\n  const [editId, setEditId] = useState<number | null>(null);\r\n  const [editTodo, setEditTodo] = useState(\"\");\r\n  const [checked, setChecked] = useState<boolean[]>([]);\r\n  const [selectedId, setSelectedId] = useState<number[]>([]);\r\n\r\n  const handleOnChange = (idx) => {\r\n    const updateCheckedState = checked.map((item, index) =>\r\n      index === idx ? !item : item\r\n    );\r\n\r\n    setChecked(updateCheckedState);\r\n    const id = todos[idx].id;\r\n    const newSelectedId = [...selectedId];\r\n    if (updateCheckedState[idx]) newSelectedId.push(id);\r\n    setSelectedId(newSelectedId);\r\n  };\r\n\r\n\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  // search keyword\r\n  const handleSearch = (value: string) => {\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    params.set(\"kw\", value);\r\n    params.set(\"page\", \"1\");\r\n    router.push(`?${params.toString()}`);\r\n  };\r\n\r\n  // Get all Todo or get Todo by keyword or get Todo by status\r\n  const { data, isLoading } = useQuery<TodoResponse, Error>({\r\n    queryKey: [\r\n      \"todos\",\r\n      inputSearch,\r\n      selectStatus,\r\n      sortOrder,\r\n      sortField,\r\n      currentPage,\r\n      limit,\r\n    ],\r\n    queryFn: async () => {\r\n      const result = await getTodos({\r\n        kw: inputSearch,\r\n        status: selectStatus,\r\n        order: sortOrder,\r\n        sortField: sortField,\r\n        currentPage: currentPage,\r\n        pageSize: limit,\r\n      });\r\n      console.log(\"QueryFn result:\", result);\r\n      return result;\r\n    },\r\n    staleTime: 30 * 1000,\r\n    gcTime: 5 * 1000 * 60,\r\n    placeholderData: keepPreviousData,\r\n  });\r\n\r\n  // Add todo\r\n  const postTodoMutation = useMutation({\r\n    mutationFn: postTodo,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\r\n          \"todos\",\r\n          inputSearch,\r\n          selectStatus,\r\n          sortOrder,\r\n          sortField,\r\n          currentPage,\r\n          limit,\r\n        ],\r\n      });\r\n    },\r\n  });\r\n\r\n  // delete todo\r\n  const deleteTodoMutation = useMutation({\r\n    mutationFn: deteleTodo,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\r\n          \"todos\",\r\n          inputSearch,\r\n          selectStatus,\r\n          sortOrder,\r\n          sortField,\r\n          currentPage,\r\n          limit,\r\n        ],\r\n      });\r\n    },\r\n  });\r\n\r\n  // delete multi todo\r\n  const deleteMultiTodoMutation = useMutation({\r\n    mutationFn: deleteMultiTodo,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\r\n          \"todos\",\r\n          inputSearch,\r\n          selectStatus,\r\n          sortOrder,\r\n          sortField,\r\n          currentPage,\r\n          limit,\r\n        ],\r\n      });\r\n    },\r\n  });\r\n\r\n  // update todo\r\n  const updateTodoMutation = useMutation({\r\n    mutationFn: updateTodoStatus,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\r\n          \"todos\",\r\n          inputSearch,\r\n          selectStatus,\r\n          sortOrder,\r\n          sortField,\r\n          currentPage,\r\n          limit,\r\n        ],\r\n      });\r\n    },\r\n  });\r\n\r\n  // Get Data Todo\r\n  const todos: Todo[] = Array.isArray(data?.todos)\r\n    ? data.todos.map((todo: Todo) => ({\r\n        ...todo,\r\n        createdDate: todo.createdDate,\r\n      }))\r\n    : [];\r\n\r\n  useEffect(() => {\r\n    setChecked(new Array(todos.length).fill(false));\r\n    setSelectedId([]);\r\n  }, [todos.length]);\r\n\r\n  // count selected id\r\n  function Count() {\r\n    let count = 0;\r\n    selectedId.forEach(() => count++);\r\n    return count;\r\n  }\r\n  // Rendering\r\n  return (\r\n    <div className=\"text-2x1 text-white bg-gradient-to-r from-amber-100 to-amber-300 h-full grid-cols-subgrid border-2 min-h-screen\">\r\n      {/* Header */}\r\n      <div className=\"basis-128 text-center mb-4 text-5xl bg-gradient-to-r from-amber-100 to-amber-300 text-[#050505] font-extrabold flex justify-center mt-5\">\r\n        <Image src=\"/todo.svg\" alt=\"todo\" width={40} height={40}/>\r\n        <p className=\"ml-2\">YourTODO</p>\r\n      </div>\r\n      <div className=\"flex justify-end\">\r\n          <button\r\n            className=\"text-black hover:scale-150 text-3xl\"\r\n            onClick={() => signOut({ redirect: false, callbackUrl: \"/\" })}\r\n          >\r\n            <LogoutIcon fontSize=\"large\" />\r\n          </button>\r\n        </div>\r\n      {/* Input và filter */}\r\n      <div className=\"flex justify-items-center-safe ml-100 gap-4 border bg-[#FEFFDF] mb-6 p-4 rounded-xl shadow w-193 text-black h-25\">\r\n        {/* Add todo */}\r\n        <AddTodo\r\n          input={input}\r\n          setInput={setInput}\r\n          onAdd={() => {\r\n            if (input.trim()) {\r\n              postTodoMutation.mutate({\r\n                todo: input,\r\n              });\r\n              setInput(\"\");\r\n            }\r\n          }}\r\n        />\r\n        {/* Search & Filter Status*/}\r\n        <FilterTodo\r\n          searchInput={searchInput}\r\n          setSearchInput={setSearchInput}\r\n          handleSearch={handleSearch}\r\n          selectStatus={selectStatus}\r\n          searchParams={searchParams}\r\n          router={router}\r\n        />\r\n        \r\n      </div>\r\n      <div>\r\n\r\n      </div>\r\n      {/* Statistic */}\r\n      <div>\r\n        {data && (\r\n          <Statistic\r\n            completedCount={data.completedCount || 0}\r\n            unCompletedCount={data.unCompletedCount || 0}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"flex justify-around\">\r\n        <div>\r\n          <Badge>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              startIcon={\r\n                <Badge badgeContent={Count()} color=\"error\">\r\n                  <DeleteIcon />\r\n                </Badge>\r\n              }\r\n              onClick={() => {\r\n                deleteMultiTodoMutation.mutate({\r\n                  idArray: selectedId,\r\n                });\r\n                console.log(selectedId);\r\n              }}\r\n              className=\"flex justify-items-end\"\r\n            >\r\n              Delete Selected Todo\r\n            </Button>\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n      {/* Rendering */}\r\n      {isLoading ? (\r\n        <div className=\"text-center\">Loading...</div>\r\n      ) : todos.length === 0 ? (\r\n        <div className=\"text-center\">No result</div>\r\n      ) : (\r\n        <div className=\"ml-20 mt-10\">\r\n          <Grid container spacing={4} columns={{ xs: 4, sm: 8, md: 12 }}>\r\n            {todos.map((todo, idx) => (\r\n              <Grid size={3} key={todo.id} justifyContent={\"space-between\"}>\r\n                <Card\r\n                  sx={{\r\n                    width: 350,\r\n                    backgroundColor: \"#FEFFDF\",\r\n                    border: 1,\r\n                    boxShadow: 10,\r\n                  }}\r\n                >\r\n                  <Checkbox\r\n                    size=\"small\"\r\n                    color=\"success\"\r\n                    checked={!!checked[idx]}\r\n                    onChange={() => handleOnChange(idx)}\r\n                  ></Checkbox>\r\n                  <CardContent>\r\n                    <Typography align=\"center\" variant=\"h5\">\r\n                      {editId === todo.id ? (\r\n                        <input\r\n                          value={editTodo}\r\n                          onChange={(e) => setEditTodo(e.target.value)}\r\n                          type=\"text\"\r\n                          onKeyDown={(e) => {\r\n                            if (e.key === \"Enter\") {\r\n                              updateTodoMutation.mutate({\r\n                                id: todo.id,\r\n                                todo: todo.todo,\r\n                              });\r\n                            }\r\n                          }}\r\n                        />\r\n                      ) : (\r\n                        <div>\r\n                          {todo.todo}\r\n                          <button\r\n                          className=\"ml-1\"\r\n                            onClick={() => {\r\n                              setEditId(todo.id);\r\n                              setEditTodo(todo.todo);\r\n                            }}\r\n                          >\r\n                            <EditOutlinedTwoToneIcon color=\"action\"/>\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </Typography>\r\n                    <Typography variant=\"h6\" align=\"center\">\r\n                      {todo.completed ? (\r\n                        <>\r\n                          <CheckSquare className=\"text-green-600 inline\" /> Done\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <X className=\"text-red-600 inline\" /> Pending\r\n                        </>\r\n                      )}\r\n                    </Typography>\r\n                    <Typography>\r\n                      {todo.createdDate\r\n                        ? new Date(todo.createdDate).toLocaleDateString(\"vi-VN\")\r\n                        : \"\"}\r\n                    </Typography>\r\n                  </CardContent>\r\n                  <CardActions\r\n                    sx={{\r\n                      backgroundColor: \"#fafafa\",\r\n                      justifyContent: \"space-around\",\r\n                    }}\r\n                  >\r\n                    <Button\r\n                      disabled={todo.completed}\r\n                      onClick={() =>\r\n                        updateTodoMutation.mutate({\r\n                          id: todo.id,\r\n                          completed: !todo.completed,\r\n                        })\r\n                      }\r\n                    >\r\n                      <DoneIcon />\r\n                      Mark Done\r\n                    </Button>\r\n                    <Button\r\n                      color=\"error\"\r\n                      onClick={() => deleteTodoMutation.mutate({ id: todo.id })}\r\n                    >\r\n                      <DeleteIcon />\r\n                      Delete\r\n                    </Button>\r\n                  </CardActions>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </div>\r\n      )}\r\n      {/* Pagination */}\r\n      {data && (\r\n        <MuiPagination\r\n          currentPage={currentPage}\r\n          total={data.total}\r\n          pageSize={limit}\r\n          router={router}\r\n          searchParams={searchParams}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}